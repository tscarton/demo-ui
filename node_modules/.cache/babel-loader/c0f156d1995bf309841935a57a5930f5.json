{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Login.scss';import api from\"../../services/api\";import{login}from\"../../services/auth\";import{Container,Col,Form,FormGroup,Label,Input,Button,Alert}from'reactstrap';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleSignIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,username,password,loginData,response,authorization;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,username=_this$state.username,password=_this$state.password;_context.prev=2;loginData={\"username\":username,\"password\":password};_context.next=6;return api.post(\"/login\",loginData);case 6:response=_context.sent;authorization=response.headers.authorization;login(authorization);_this.props.history.push(\"/app\");_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.log(\"Error login\");_this.setState({loginError:true});setTimeout(function(){_this.setState({loginError:false});},2500);case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={loginError:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;var loginError=this.state.loginError;return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(Container,{className:\"App\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Login\"),/*#__PURE__*/React.createElement(Form,{className:\"form\",onSubmit:this.handleSignIn},/*#__PURE__*/React.createElement(Alert,{color:\"danger\",isOpen:loginError},\"Invalid credentials.\"),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"username\",id:\"username\",className:\"w-50 offset-sm-3\",placeholder:\"Username\",required:true,onChange:function onChange(e){return _this2.setState({username:e.target.value});}}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",name:\"password\",id:\"password\",className:\"w-50 offset-sm-3\",placeholder:\"********\",required:true,onChange:function onChange(e){return _this2.setState({password:e.target.value});}}))),/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"primary\"},\"Submit\"))));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["/Users/tscarton/Scarton/Pessoal/dev/workspace/spring/demo/demo-ui/src/components/Login/Login.js"],"names":["React","api","login","Container","Col","Form","FormGroup","Label","Input","Button","Alert","Login","props","handleSignIn","e","preventDefault","state","username","password","loginData","post","response","authorization","headers","history","push","console","log","setState","loginError","setTimeout","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Login.scss';\nimport api from \"../../services/api\";\nimport { login } from \"../../services/auth\";\nimport {\n  Container, Col, Form,\n  FormGroup, Label, Input,\n  Button, Alert\n} from 'reactstrap';\n\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loginError: false\n    };\n  }\n\n  handleSignIn = async e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n   try {\n        const loginData = {\"username\": username, \"password\": password}\n        const response = await api.post(\"/login\", loginData);\n        const authorization = response.headers.authorization;\n        login(authorization);\n        this.props.history.push(\"/app\");\n      } catch (err) {\n        console.log(\"Error login\");\n        this.setState({loginError: true});\n        setTimeout(()=> {\n          this.setState({loginError: false});\n        }, 2500)\n      }\n    \n  };\n\n  render() {\n    const { loginError } = this.state;\n    return (\n      <div className=\"Login\">\n     <Container className=\"App\">\n        <h2>Login</h2>\n        <Form className=\"form\" onSubmit={this.handleSignIn}>\n          <Alert color=\"danger\" isOpen={loginError}>\n            Invalid credentials.\n          </Alert>\n          <Col>\n            <FormGroup>\n              <Label for=\"username\">Username</Label>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                id=\"username\"\n                className=\"w-50 offset-sm-3\" \n                placeholder=\"Username\" required\n                onChange={e => this.setState({ username: e.target.value })}\n              />\n            </FormGroup>\n          </Col>\n          <Col>\n            <FormGroup>\n              <Label for=\"password\">Password</Label>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                className=\"w-50 offset-sm-3\"\n                placeholder=\"********\" required\n                onChange={e => this.setState({ password: e.target.value })}\n              />\n            </FormGroup>\n          </Col>\n          <Button type=\"submit\" color=\"primary\">Submit</Button>\n        </Form>\n      </Container>\n  </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}