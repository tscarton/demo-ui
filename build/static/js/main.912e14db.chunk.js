(this["webpackJsonpdemo-ui"]=this["webpackJsonpdemo-ui"]||[]).push([[0],{51:function(e,t,a){e.exports=a(98)},56:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},85:function(e,t,a){},91:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(20),l=a.n(o),c=(a(56),a(14)),u=a(15),i=a(17),s=a(16),m=(a(57),a(50)),d=a(18),p=a(49),E=function(){localStorage.removeItem("@jwt-Token")},f=a(13),h=a.n(f),g=a(21),v=(a(59),a(45)),b=a.n(v).a.create({baseURL:"http://localhost:8080"});b.interceptors.request.use(function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=localStorage.getItem("@jwt-Token"))&&(t.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var w=b,y=a(99),S=a(100),C=a(101),j=a(102),O=a(103),k=a(104),N=a(105),D=a(106),x=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSignIn=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,r,o,l,c,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.username,o=a.password,e.prev=2,l={username:r,password:o},e.next=6,w.post("/login",l);case 6:c=e.sent,u=c.headers.authorization,i=(i=u).replace("Bearer ",""),localStorage.setItem("@jwt-Token",i),n.props.history.push("/app"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error login"),n.setState({loginError:!0}),setTimeout((function(){n.setState({loginError:!1})}),2500);case 17:case"end":return e.stop()}var i}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),n.state={loginError:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.loginError;return r.a.createElement("div",{className:"Login"},r.a.createElement(y.a,{className:"App"},r.a.createElement("h2",null,"Login"),r.a.createElement(S.a,{className:"form",onSubmit:this.handleSignIn},r.a.createElement(C.a,{color:"danger",isOpen:t},"Invalid credentials."),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(k.a,{for:"username"},"Username"),r.a.createElement(N.a,{type:"text",name:"username",id:"username",className:"w-50 offset-sm-3",placeholder:"Username",required:!0,onChange:function(t){return e.setState({username:t.target.value})}}))),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(k.a,{for:"password"},"Password"),r.a.createElement(N.a,{type:"password",name:"password",id:"password",className:"w-50 offset-sm-3",placeholder:"********",required:!0,onChange:function(t){return e.setState({password:t.target.value})}}))),r.a.createElement(D.a,{type:"submit",color:"primary"},"Submit"))))}}]),a}(r.a.Component),I=(a(85),a(107)),B=a(116),R=a(108),q=a(109),A=a(110),L=a(46),M=a.n(L),T=a(25),Y=a(27),U=(a(90),function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteRow=function(e){w.post("/customers/delete",e).then((function(t){var a=n.state.customers.filter((function(t){return t.email!==e.email}));n.setState({customers:a}),n.closeConfirmDialog()})).catch((function(e){console.log(e)}))},n.closeConfirmDialog=function(e){n.setState({openConfirmDelete:!1})},n.openConfirmDialog=function(e){n.setState({openConfirmDelete:!0,customerSelected:e})},n.openEditDialog=function(e){var t;t=null==e?{name:"",email:"",birthday:new Date}:e,n.setState({openEdit:!0,customerSelected:t})},n.addNewCustomer=function(e){n.setState({creatingNew:!0}),n.openEditDialog(null)},n.updateCustomer=function(e){e.preventDefault(),console.log("Customer to update ",n.state.customerSelected),w.post("/customers",n.state.customerSelected).then((function(e){var t=n.state.customers;t.push(e.data),n.setState({customers:t,creatingNew:!1,openEdit:!1})})).catch((function(e){console.log(e)}))},n.cancelEdit=function(e){e.preventDefault(),n.setState({creatingNew:!1,openEdit:!1})},n.state={customers:[],openConfirmDelete:!1,openEdit:!1,customerSelected:{}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.get("/customers").then((function(t){e.setState({customers:t.data._embedded.customers})})).catch((function(e){console.log(e)}))}},{key:"renderRow",value:function(e){var t=this;return r.a.createElement("tr",{key:e.email},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,r.a.createElement(M.a,{format:"DD-MMM-YYYY"},e.birthday)),r.a.createElement("td",{className:"editRow"},r.a.createElement(T.a,{icon:Y.a})),r.a.createElement("td",{className:"editRow",onClick:function(){return t.openConfirmDialog(e)}},r.a.createElement(T.a,{icon:Y.b})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.openConfirmDelete,n=t.customerSelected,o=t.openEdit,l=t.creatingNew;return r.a.createElement("div",null,r.a.createElement(D.a,{color:"primary",className:"addCustomer",onClick:this.addNewCustomer},"Add")," ",r.a.createElement(I.a,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Birthday"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.customers.map(this.renderRow,this))),r.a.createElement(B.a,{isOpen:a},r.a.createElement(R.a,null,"Confirm Delete"),r.a.createElement(q.a,null,"Are you sure to delete the customer ",n.name,"?"),r.a.createElement(A.a,null,r.a.createElement(D.a,{color:"primary",onClick:function(){return e.deleteRow(n)}},"Confirm")," ",r.a.createElement(D.a,{color:"secondary"},"Cancel"))),r.a.createElement(B.a,{isOpen:o},r.a.createElement(S.a,{className:"form",onSubmit:this.updateCustomer},r.a.createElement(R.a,null,l?"New Customer":"Edit Customer"),r.a.createElement(q.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(k.a,{for:"name"},"Name"),r.a.createElement(N.a,{type:"text",name:"name",id:"name",placeholder:"Name",required:!0,onChange:function(t){n.name=t.target.value,e.setState({customerSelected:n})}}))),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(k.a,{for:"email"},"Email"),r.a.createElement(N.a,{type:"email",id:"email",placeholder:"email",required:!0,onChange:function(t){n.email=t.target.value,e.setState({customerSelected:n})}}))),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(k.a,{for:"birthday"},"Birthday"),r.a.createElement("br",null),r.a.createElement(N.a,{type:"date",id:"birthday",placeholder:"Birthday",required:!0,onChange:function(t){n.birthday=t.target.value,e.setState({customerSelected:n})}})))),r.a.createElement(A.a,null,r.a.createElement(D.a,{color:"primary"},"Submit")," ",r.a.createElement(D.a,{color:"secondary",onClick:this.cancelEdit},"Cancel")))))}}]),a}(r.a.Component)),z=(a(91),a(111)),J=a(112),W=a(113),P=a(114),$=a(115),_=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).doLogout=function(){var t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E(),e.props.history.push("/");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{color:"light",light:!0,expand:"md"},r.a.createElement(J.a,{href:"/app"},"Demo"),r.a.createElement(W.a,{isOpen:!1,navbar:!0},r.a.createElement(P.a,{className:"mr-auto",navbar:!0}),r.a.createElement($.a,{onClick:this.doLogout,className:"logout"},"Logout"))),r.a.createElement("div",null,r.a.createElement(U,null)))}}]),a}(r.a.Component),F=function(e){var t=e.component,a=Object(m.a)(e,["component"]);return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return null!==localStorage.getItem("@jwt-Token")?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/",state:{from:e.location}}})}}))},G=function(){return r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:x}),r.a.createElement(F,{path:"/app",component:_})))},H=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={count:0},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(94);a(95).config(),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.912e14db.chunk.js.map